<!-- app/views/home/index.html.erb -->
<div class="homepage-container">
 <nav class="main-nav">
   <div class="nav-content">
     <div class="nav-brand">
       <wa-icon name="calendar"></wa-icon>
       <span>PC Scheduling</span>
     </div>
     <div class="nav-actions">
       <%= button_to "My Availability", user_availabilities_path, class: "wa-button--small" %>
       <%= button_to "Sign Out", destroy_user_session_path, 
           method: :delete, 
           class: "wa-button--small",
           form: { style: 'display: inline;' } %>
     </div>
   </div>
 </nav>

  <!-- Header -->
  <header class="homepage-header">
    <div class="header-content">
      <h1 class="welcome-title">Welcome, <%= current_user.name %>!</h1>
      <p class="welcome-subtitle">Manage your scheduling sessions and meetups</p>
    </div>
    <div class="header-actions">
      <%= link_to new_meetup_path, class: "wa-button--primary" do %>
        <wa-icon name="plus"></wa-icon>
        Create New Meetup
      <% end %>
    </div>
  </header>

  <!-- Main Content -->
  <main class="homepage-main">
    <!-- Created Meetups Section -->
    <section class="meetups-section">
      <div class="section-header">
        <h2 class="section-title">My Created Meetups</h2>
        <p class="section-subtitle">Meetups you've created</p>
      </div>
      
      <% if @created_meetups.any? %>
        <div class="meetups-grid">
          <% @created_meetups.each do |meetup| %>
            <wa-card class="meetup-card">
              <div class="meetup-card-header">
                <h3 class="meetup-title"><%= meetup.name %></h3>
                <div class="meetup-actions">
                  <%= link_to meetup_path(meetup), class: "wa-button--secondary" do %>
                    <wa-icon name="eye"></wa-icon>
                    View
                  <% end %>
                  <%= link_to edit_meetup_path(meetup), class: "wa-button--secondary" do %>
                    <wa-icon name="edit"></wa-icon>
                    Edit
                  <% end %>
                </div>
              </div>
              <p class="meetup-description"><%= meetup.description %></p>
              <div class="meetup-stats">
                <span class="stat">
                  <wa-icon name="users"></wa-icon>
                  <%= meetup.participants.count %> participants
                </span>
              </div>
            </wa-card>
          <% end %>
        </div>
      <% else %>
        <div class="empty-state">
          <wa-icon name="calendar" class="empty-icon"></wa-icon>
          <div class="display-empty-message">
          	<p>You haven't created any meetups yet.</p>
          </div>
          <%= link_to "Create your first meetup", new_meetup_path, class: "wa-button--primary" %>
        </div>
      <% end %>
    </section>

    <!-- Joined Meetups Section -->
    <section class="meetups-section">
      <div class="section-header">
        <h2 class="section-title">My Joined Meetups</h2>
        <p class="section-subtitle">Meetups you've joined</p>
      </div>
      
      <% if @user_meetups.any? %>
        <div class="meetups-grid">
          <% @user_meetups.each do |meetup| %>
            <wa-card class="meetup-card">
              <div class="meetup-card-header">
                <h3 class="meetup-title"><%= meetup.name %></h3>
                <div class="meetup-actions">
                  <%= link_to meetup_path(meetup), class: "wa-button wa-button--small" do %>
                    <wa-icon name="eye"></wa-icon>
                    View
                  <% end %>
                </div>
              </div>
              <p class="meetup-description"><%= meetup.description %></p>
              <div class="meetup-stats">
                <span class="stat">
                  <wa-icon name="users"></wa-icon>
                  <%= meetup.participants.count %> participants
                </span>
                <span class="stat">
                  <wa-icon name="user"></wa-icon>
                  <%= meetup.creator.name %>
                </span>
              </div>
            </wa-card>
          <% end %>
        </div>
      <% else %>
        <div class="empty-state">
          <wa-icon name="calendar" class="empty-icon"></wa-icon>
          <p>You haven't joined any meetups yet.</p>
          <p>Ask someone to invite you to a meetup!</p>
        </div>
      <% end %>
    </section>
  </main>
</div>
