<div class="wa-center registration-outer-center">
  <wa-card class="registration-card registration-card-split">
    <div class="registration-inner-split wa-flex">
      <!-- Left Banner (SVG) -->
      <div class="registration-banner wa-flex wa-center wa-justify-center">
        <%= image_tag "schedule-clone-svgrepo-com.svg", alt: "Schedule Icon", class: "banner-svg" %>
      </div>
      <!-- Right Registration Form -->
      <div class="registration-form-area wa-flex wa-center wa-justify-center">
        <div class="registration-form-fields wa-stack wa-gap-4">
          <div class="wa-text-center wa-mb-4 form-title">Register</div>

          <% if resource.errors.any? %>
          <wa-alert class="wa-alert--error">
            <wa-alert-title>Please fix the following errors:</wa-alert-title>
            <wa-alert-content>
              <ul>
                <% resource.errors.full_messages.each do |msg| %>
                  <li><%= msg %></li>
                <% end %>
              </ul>
            </wa-alert-content>
          </wa-alert>
          <% end %>

          <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |form| %>
            <wa-input
              type="email"
              placeholder="Email"
              name="user[email]"
              required
              icon="user"
              class="wa-input"
            ></wa-input>

            <wa-input
              type="text"
              placeholder="Username"
              name="user[name]"
              required
              icon="user"
              class="wa-input"
            ></wa-input>

            <wa-input
              type="password"
              placeholder="Password"
              name="user[password]"
              required
              password-toggle
              icon="lock"
              class="wa-input"
            ></wa-input>

            <wa-input
              type="password"
              placeholder="Confirm Password"
              name="user[password_confirmation]"
              required
              password-toggle
              icon="lock"
              class="wa-input"
            ></wa-input>

            <select name="user[time_zone]" required class="wa-select">
              <option value="">Select Time Zone</option>
              
              <!-- Common zones first -->
              <% common_zones = ['UTC', 'Eastern Time (US & Canada)', 'Central Time (US & Canada)', 'Mountain Time (US & Canada)', 'Pacific Time (US & Canada)', 'Europe/London', 'Europe/Paris', 'Asia/Tokyo'] %>
              <% common_zones.each do |zone_name| %>
                <% tz = ActiveSupport::TimeZone[zone_name] %>
                <option value="<%= tz.name %>"><%= tz.name %></option>
              <% end %>
              
              <!-- Separator -->
              <option disabled>──────────</option>
              
              <!-- All other zones alphabetically -->
              <% other_zones = ActiveSupport::TimeZone.all.reject { |tz| common_zones.include?(tz.name) }.sort_by(&:name) %>
              <% other_zones.each do |tz| %>
                <option value="<%= tz.name %>"><%= tz.name %></option>
              <% end %>
            </select>

            <wa-button type="submit" class="wa-button--filled wa-button--primary">
              Register
            </wa-button>
          <% end %>

          <div class="wa-text-center wa-mt-4">
            <%= link_to "Already have an account? Log in", new_session_path(resource_name), class: "wa-link" %>
          </div>
        </div>
      </div>
    </div>
  </wa-card>
</div>
